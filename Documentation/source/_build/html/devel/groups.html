

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with groups &mdash; Natron 2.3.16 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using Callbacks" href="callbacks.html" />
    <link rel="prev" title="Parameters expressions" href="paramExpressions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Natron
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_group.html">Reference Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developers Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="APIReference.html">Python API</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="gettingstarted.html">Getting started</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="creatingNode.html">Creating and controlling nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="controllingParameters.html">Controlling parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="paramExpressions.html">Parameters expressions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Working with groups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameters-expressions-and-groups">Parameters expressions and groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exporting-a-group">Exporting a group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exporting-a-project-as-group">Exporting a project as group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#moving-nodes-between-groups">Moving nodes between groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-group-by-hand">Creating a group by hand</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-hand-written-code-callbacks-etc">Adding hand-written code (callbacks, etc…)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#starting-natron-with-a-script-in-command-line">Starting Natron with a script in command line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#toolsets">Toolsets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="callbacks.html">Using Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="renderingWriteNode.html">Rendering</a></li>
<li class="toctree-l3"><a class="reference internal" href="roto.html">Using the rotoscoping functionalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="tracker.html">Using the tracker functionalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="modalDialogs.html">Modal dialogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="userCommands.html">User menu commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysidePanelExample.html">PySide panels</a></li>
<li class="toctree-l3"><a class="reference internal" href="viewersInteraction.html">Controlling the viewer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="devel-faq.html">Natron Python FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Natron</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Developers Guide</a> &raquo;</li>
        
          <li><a href="gettingstarted.html">Getting started</a> &raquo;</li>
        
      <li>Working with groups</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/devel/groups.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="working-with-groups">
<span id="groups"></span><h1>Working with groups<a class="headerlink" href="#working-with-groups" title="Permalink to this headline">¶</a></h1>
<p>Groups in Natron are a complete sub-nodegraph into which the user can manage nodes exactly
like in the <em>main</em> nodegraph, but everything in that sub-group will be referenced as 1
node in the hierarchy above, e.g.:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/subGroups.png"><img alt="../_images/subGroups.png" src="../_images/subGroups.png" style="width: 800px;" /></a>
</div>
<p>A group can be created like any other node in Natron and by default embeds already 2 nodes:
The <strong>Output</strong> node and one <strong>Input</strong> node.</p>
<p>The <strong>Output</strong> node is used to reference what would be the output of the internal graph of
the group.
In Natron, <strong>a node has necessarily a single output</strong>, hence if you add several <em>Output</em> nodes
to a group, <strong>only the first Output node will be taken into account</strong>.</p>
<p>Note that you can also add <em>Output</em> nodes to the top-level graph of Natron (the main Node Graph).
They are useful if you need to export your project as a group.</p>
<p>When used in the top-level graph, there can be multiple <em>Output</em> nodes, which can then be
used when launching Natron from the command-line to render the script, e.g.:</p>
<blockquote>
<div>NatronRenderer -o1 /FastDisk/Pictures/sequence###.exr -o2 /FastDisk/Pictures/test###.exr 1-100 /Users/Me/MyNatronScripts/MyScript.py</div></blockquote>
<p>Where each argument <em>o1</em>, <em>o2</em> expand respectively the nodes <em>Output1</em> and <em>Output2</em>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You should never attempt to change the script name of output nodes, otherwise Natron has
no way to match the given command line arguments to the output nodes. In fact Natron
will completely ignore your request if you explicitly try to set the script name of an <em>Output</em> node.</p>
</div>
<p>The <strong>Input</strong> node is not necessarily unique and represents 1 input arrow of the group node.
You can also specify in the settings panel of the <em>Input</em> node whether this input should be
considered as a mask or whether it should be optional.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the OpenFX standard specifies that Mask inputs must be optionals so when checking
the mask parameter, this will automatically check the <em>optional</em> parameter.</p>
</div>
<p>You can freely rename an <strong>Input</strong> node, effectively changing the label attached to the arrow
on the group node.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/inputLabels.png"><img alt="../_images/inputLabels.png" src="../_images/inputLabels.png" style="width: 500px;" /></a>
</div>
<div class="section" id="parameters-expressions-and-groups">
<h2>Parameters expressions and groups<a class="headerlink" href="#parameters-expressions-and-groups" title="Permalink to this headline">¶</a></h2>
<p>A common task is to add parameters to the group node itself which directly interact to nodes
parameters used internally by this group.</p>
<p>You can add a new parameter to the group node by clicking the “Settings and presets” button
and clicking “Manage user parameters…”:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/manageUserParams.png"><img alt="../_images/manageUserParams.png" src="../_images/manageUserParams.png" style="width: 300px;" /></a>
</div>
<p>A dialog will popup on which you can manage all the parameters that you added. By default
a page is added automatically that will contain user parameters.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/addUserParams.png"><img alt="../_images/addUserParams.png" src="../_images/addUserParams.png" style="width: 300px;" /></a>
</div>
<p>To create a new parameter, click the add button, this brings up a new dialog:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/addNewParamDialog.png"><img alt="../_images/addNewParamDialog.png" src="../_images/addNewParamDialog.png" style="width: 500px;" /></a>
</div>
<p>In this dialog you can configure all the properties of the parameter exactly like you would do using
the <a class="reference internal" href="PythonReference/NatronEngine/Param.html#param"><span class="std std-ref">Python API</span></a>.</p>
<p>Once created, the new parameter can be found in the “User” page of the settings panel:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/userPage.png"><img alt="../_images/userPage.png" src="../_images/userPage.png" style="width: 400px;" /></a>
</div>
<p>We can then set for instance an expression on the internal blur size parameter to copy the value
of the blur size parameter we just added to the group node:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/blurExpression.png"><img alt="../_images/blurExpression.png" src="../_images/blurExpression.png" style="width: 500px;" /></a>
</div>
<p>The expression is now visible in a green-ish color on the parameter in the settings panel
and the node on the node-graph has a green “E” indicator.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/settingsPanelExpression.png"><img alt="../_images/settingsPanelExpression.png" src="../_images/settingsPanelExpression.png" style="width: 400px;" /></a>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/exprIndicator.png"><img alt="../_images/exprIndicator.png" src="../_images/exprIndicator.png" style="width: 200px;" /></a>
</div>
</div>
<div class="section" id="exporting-a-group">
<h2>Exporting a group<a class="headerlink" href="#exporting-a-group" title="Permalink to this headline">¶</a></h2>
<p>Once your group is setup correctly, you can <em>export</em> it as a Python script that Natron will
generate automatically. We call them <em>PyPlugs</em>.</p>
<p>To do so, click the <strong>Export as Python plug-in</strong> button in the “Node” page of the settings panel
of the Group node.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/exportButton.png"><img alt="../_images/exportButton.png" src="../_images/exportButton.png" style="width: 400px;" /></a>
</div>
<p>Exporting a group as a plug-in, means that it will create a Python script that will be able
to re-create the group entirely and that will be loaded on startup like any other plug-in.
That means that the group will also appear in the left toolbar of Natron and can potentially
have an icon too.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/exportWindow.png"><img alt="../_images/exportWindow.png" src="../_images/exportWindow.png" style="width: 400px;" /></a>
</div>
<p>The <em>Label</em> is the name of the plug-in as it will appear in the user interface. It should not
contain spaces or non Python friendly characters as it is going to be used as variable names
in several places.</p>
<p>The <em>Grouping</em> is the tool-button under which the plug-in should appear. It accepts
sub-menus notation like this: “Inria/StereoGroups”</p>
<p>The <em>Icon relative path</em> is the filepath to an image which should be used as icon for the plug-in.
Note that it is a relative path to the location of the python script.</p>
<p>The <em>directory</em> is the location where the script should be written to.
For the plug-in to be loaded by Natron, it should be in its <a class="reference internal" href="natronpath.html#natronpath"><span class="std std-ref">search-paths</span></a>
hence if you select a directory that is not yet in the search-paths, it will prompt you
to add it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A re-launch of Natron is required to re-scan the plug-ins and build the tool menus</p>
</div>
<p>Once restarted, the plug-in should now appear in the user interface</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/toolbuttonGroup.png"><img alt="../_images/toolbuttonGroup.png" src="../_images/toolbuttonGroup.png" style="width: 200px;" /></a>
</div>
<p>and even in the tab menu of the node-graph:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/tabMenuGroup.png"><img alt="../_images/tabMenuGroup.png" src="../_images/tabMenuGroup.png" style="width: 200px;" /></a>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The plug-in ID of the group will be exactly the same as the <em>Label</em> you picked when
exporting it, hence when creating a node using the group from a Python script, you
would do so:</p>
<blockquote>
<div>app.createNode(“MyBlurGroup”)</div></blockquote>
<p class="last">If several plug-ins have the same <em>pluginID</em>, Natron will then sort plug-ins by version.</p>
</div>
<p>The version of a plug-in by default when exporting it via Natron is 1.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If 2 plug-ins happen to have the same pluginID and version, Natron will then load the first one
found in the search paths.</p>
</div>
<p>To change the <strong>pluginID</strong> and <strong>version</strong> of your group plug-in, you must implement the 2
following functions in the python script of the group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This function should return an int specifying the version of the plug-in</span>
<span class="c1"># If not implemented, Natron will use 1 by default</span>
<span class="k">def</span> <span class="nf">getVersion</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">VERSION</span>

<span class="c1"># This function should return a string specifying the ID of the plug-in, for example</span>
<span class="c1"># &quot;fr.inria.groups.customBlur&quot;</span>
<span class="c1"># If not implemented, Natron will use the label as a pluginID</span>
<span class="k">def</span> <span class="nf">getPluginID</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">UNIQUE_ID</span>
</pre></div>
</div>
</div>
<div class="section" id="exporting-a-project-as-group">
<h2>Exporting a project as group<a class="headerlink" href="#exporting-a-project-as-group" title="Permalink to this headline">¶</a></h2>
<p>Similarly, Natron allows you to export the top-level node-graph as a Python group plug-in.
From the “File” menu, select “Export project as group”.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">To be exportable, your project should at least contain 1 output node.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While this functionality is made for convenience, you should be cautious, as
exporting a project containing Readers will probably not work very well in another project
or computer because of file-paths no longer pointing to a valid location.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you were to write a group plug-in and then want to have your expressions persist when
your group will be instantiated, it is important to prefix the name of the nodes you reference
in your expression by the <strong>thisGroup.</strong> prefix. Without it, Natron thinks you’re referencing
a top-level node, i.e: a node which belongs to the main node-graph, however, since you’re using
a group, all your nodes are no longer top-level and the expression will fail.</p>
</div>
</div>
<div class="section" id="moving-nodes-between-groups">
<h2>Moving nodes between groups<a class="headerlink" href="#moving-nodes-between-groups" title="Permalink to this headline">¶</a></h2>
<p>You can create a group from the selection in Natron by holding CTRL+SHIFT+G.
This will effectively move all nodes selected into a new sub-group</p>
<p>You can also copy/cut/paste in-between groups and projects.</p>
</div>
<div class="section" id="creating-a-group-by-hand">
<h2>Creating a group by hand<a class="headerlink" href="#creating-a-group-by-hand" title="Permalink to this headline">¶</a></h2>
<p>You can also write a group plug-in by hand using the <a class="reference internal" href="APIReference.html#apireference"><span class="std std-ref">Python API</span></a> of Natron.</p>
<p>Natron detects a Python file within the plug-in path as a PyPlug if it contains the following line <a class="footnote-reference" href="#id3" id="id1">[1]</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Natron PyPlug</span>
</pre></div>
</div>
<p>There may be Python files which are neither PyPlugs or Toolsets within these directories, for example python modules.</p>
<p>To work as a plug-in, your script should implemented the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This function is mandatory and should return the label of the plug-in as</span>
<span class="c1"># visible on the user interface</span>
<span class="k">def</span> <span class="nf">getLabel</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">LABEL</span>

<span class="c1"># This function should return an int specifying the version of the plug-in</span>
<span class="c1"># If not implemented, Natron will use 1 by default</span>
<span class="k">def</span> <span class="nf">getVersion</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">VERSION</span>

<span class="c1"># This function should return a string specifying the ID of the plug-in, for example</span>
<span class="c1"># &quot;fr.inria.groups.customBlur&quot;</span>
<span class="c1"># If not implemented, Natron will use the label as a pluginID</span>
<span class="k">def</span> <span class="nf">getPluginID</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">UNIQUE_ID</span>

<span class="c1"># This function should return a string specifying the relative file path of an image</span>
<span class="c1"># file relative to the location of this Python script.</span>
<span class="c1"># This function is optional.</span>
<span class="k">def</span> <span class="nf">getIconPath</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ICON_PATH</span>

<span class="c1"># This function is mandatory and should return the plug-in grouping, e.g.:</span>
<span class="c1"># &quot;Other/Groups&quot;</span>
<span class="k">def</span> <span class="nf">getGrouping</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">GROUPING</span>

<span class="c1"># This function is optional and should return a string describing the plug-in to the user.</span>
<span class="c1"># This is the text that will show up when the user press the &quot;?&quot; button on the settings panel.</span>
<span class="k">def</span> <span class="nf">getDescription</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">DESCRIPTION</span>

<span class="c1"># This function is mandatory and should re-create all the nodes and parameters state</span>
<span class="c1"># of the group.</span>
<span class="c1"># The group parameter is a group node that has been created by Natron and that  will host all</span>
<span class="c1"># the internal nodes created by this function.</span>
<span class="c1"># The app parameter is for convenience to have access in a generic way to the app object,</span>
<span class="c1"># no matter in which project instance your script is invoked in.</span>
<span class="k">def</span> <span class="nf">createInstance</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">group</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The Python group plug-ins generated automatically by Natron are a good start to figure out
how to write scripts yourself.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Python group plug-ins should avoid using any functionality provided by the <a class="reference internal" href="PythonReference/NatronGui/index.html#natrongui"><span class="std std-ref">NatronGui</span></a> module
because it would then break their compatibility when working in command-line background mode.
The reason behind this is that the Python module NatronGui is not imported in command-line mode because
internally it relies on the QtGui library, which may not be present on some render-farms.
Attempts to load PyPlugs relaying on the NatronGui module would then fail and the rendering
would abort.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Note that PyPlugs are <strong>imported</strong> by Natron which means that the script will not have access
to any external variable declared by Natron except the variables passed to the createInstance function
or the attributes of the modules imported.</p>
</div>
</div>
<div class="section" id="adding-hand-written-code-callbacks-etc">
<span id="pyplughandwritten"></span><h2>Adding hand-written code (callbacks, etc…)<a class="headerlink" href="#adding-hand-written-code-callbacks-etc" title="Permalink to this headline">¶</a></h2>
<p>It is common to add hand-written code to a PyPlug. When making changes to the PyPlug from
the GUI of Natron, exporting it again will overwrite any change made to the python script
of the PyPlug.
In order to help development, all hand-written code can be written in a separate script
with the <strong>same</strong> name of the original Python script but ending with <em>Ext.py</em>, e.g.:</p>
<blockquote>
<div>MyPyPlugExt.py</div></blockquote>
<p>This extension script can contain for example the definition of all callbacks used in the PyPlug.
When calling the <em>createInstance(app,group)</em> function, the PyPlug will call right at the end
of the function the <em>createInstanceExt(app,group)</em> function. You can define it in your
<em>extension script</em> if you want to apply extra steps to the creation of the group. For example
you might want to actually set the callbacks on the group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#This is in MyPyPlugExt.py</span>

<span class="k">def</span> <span class="nf">paramChangedCallback</span><span class="p">(</span><span class="n">thisParam</span><span class="p">,</span> <span class="n">thisNode</span><span class="p">,</span> <span class="n">thisGroup</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">userEdited</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">thisParam</span><span class="o">.</span><span class="n">getScriptName</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">createInstanceExt</span><span class="p">(</span><span class="n">app</span><span class="p">,</span><span class="n">group</span><span class="p">):</span>
    <span class="c1"># Note that the callback belongs to the PyPlug to so we use it as prefix</span>
    <span class="n">group</span><span class="o">.</span><span class="n">onParamChanged</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;MyPyPlug.paramChangedCallback&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that callbacks don’t have to be registered with the extension module prefix but just
with the PyPlug’s name prefix since the <em>“from … import *”</em> statement is made to import
the extensions script.</p>
</div>
</div>
<div class="section" id="starting-natron-with-a-script-in-command-line">
<h2>Starting Natron with a script in command line<a class="headerlink" href="#starting-natron-with-a-script-in-command-line" title="Permalink to this headline">¶</a></h2>
<p>Natron can be started with a Python script as argument.</p>
<p>When used in background mode (i.e: using NatronRenderer or Natron with the option <strong>-b</strong>)
Natron will do the following steps:</p>
<ul class="simple">
<li>Source the script</li>
<li>If found, run a function with the following signature <em>createInstance(app,group)</em></li>
<li>Start rendering the specified writer nodes (with the <strong>-w</strong> option) and/or the <em>Output</em> nodes (with the <strong>-o</strong> option)</li>
</ul>
<p>This allows to pass a group plug-in to Natron and render it easily if needed.
Also, it can take arbitrary scripts which are not necessarily group plug-ins.</p>
<p>When Natron is launched in GUI mode but with a Python script in argument, it will do the following steps:</p>
<ul class="simple">
<li>Source the script</li>
<li>If found, run a function with the following signature <em>createInstance(app,group)</em></li>
</ul>
</div>
<div class="section" id="toolsets">
<h2>Toolsets<a class="headerlink" href="#toolsets" title="Permalink to this headline">¶</a></h2>
<p>Toolsets in Natron are a predefined set of actions that will be applied to the node-graph.
They work exactly like PyPlugs except that no actual group node will be created, only
the content of the <em>createInstance(app,group)</em> function will be executed.</p>
<p>This useful to create pre-defined graphs, for example like the Split and Join plug-in
in the Views menu.</p>
<p>To be recognized as a toolset, your PyPlug must implement the following function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getIsToolset</span><span class="p">():</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Also the <strong>group</strong> parameter passed to the <em>createInstance(app,group)</em> function
will be <em>None</em> because no group node is actually involved.</p>
<p>As with regular PyPlugs, the file must also contrain the line <a class="footnote-reference" href="#id3" id="id2">[1]</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Natron PyPlug</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> <p>There was a bug in Natron versions 2.1.0 through 2.3.14 which prevented loading PyPlugs and Toolsets if they did not have a line that started with:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This file was automatically generated by Natron PyPlug exporter</span>
</pre></div>
</div>
</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="callbacks.html" class="btn btn-neutral float-right" title="Using Callbacks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="paramExpressions.html" class="btn btn-neutral float-left" title="Parameters expressions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2013-2020 The Natron documentation authors, licensed under CC BY-SA 4.0

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>