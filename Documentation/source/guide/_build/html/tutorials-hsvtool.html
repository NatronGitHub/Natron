
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSVTool &#8212; Natron 2.3.16 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/dropdown.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FFmpeg (empty)" href="tutorials-ffmpeg.html" />
    <link rel="prev" title="How To Convert Videos To Image Sequences" href="tutorials-imagesequence.html" /> 
  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="hsvtool">
<h1>HSVTool<a class="headerlink" href="#hsvtool" title="Permalink to this headline">¶</a></h1>
<p>The <span class="xref std std-ref">HSVTool</span> node converts the input color space to a HSV color space and converts the adjusted values back to the image input color space for further processing for the output. The <span class="xref std std-ref">HSVTool</span> node is used to adjust the HSV channel components of an image the the Read node stream. It’s basic operation are to adjust the Hue: which is the color of the input image, Saturation: which is the color range of the input image, and Brightness: which is the color value level and the grayscale of the input image.</p>
<p>Each section has a rang controls that can be adjusted to limit the effects of a node by narrowing the input color ranges.</p>
<p>What are some standard work-flow using <span class="xref std std-ref">HSVTool</span>?</p>
<ol class="arabic simple">
<li><p>You can do secondary color corrections or color replacements with the source/destination eyedropper tool.</p></li>
<li><p>You can use the <span class="xref std std-ref">HSVTool</span> for linear/color keying.</p></li>
<li><p>You can do an overall color shift by using the rotation range adjuster in the Hue parameters etc.</p></li>
</ol>
<div class="figure align-default">
<img alt="_images/hsvtool_01.png" src="_images/hsvtool_01.png" />
</div>
<p>The following screen captures are based on a single pixel selection without manual component modifications. You will see different alpha mattes display based on the alpha output components.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_02.png" src="_images/hsvtool_02.png" />
</div>
<p>The image above is the result of a single color pixel selection using the blue destination replacement color.</p>
<div class="section" id="brightness-adjustment-ranges">
<h2>Brightness adjustment ranges<a class="headerlink" href="#brightness-adjustment-ranges" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default">
<img alt="_images/hsvtool_03.png" src="_images/hsvtool_03.png" />
</div>
<p>This is when you make adjustments to Hue, Saturation, and Brightness to limit the input color ranges for the desired effect. You can look at the third viewer on the right that has matte/alpha generated by the color selection key using the source color eyedropper. This is the alpha interpretation of the alpha output component which is the to Hue.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_04.png" src="_images/hsvtool_04.png" />
</div>
<p>There are several alpha output component that the <span class="xref std std-ref">HSVTool</span> uses to limit effects. The next images are the results of the output alpha mode from the <span class="xref std std-ref">HSVTool</span>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each of the matte generated displays are based from the colors that are spread across the image  on a single pixel selection and it HSV values.</p>
</div>
<div class="figure align-default">
<img alt="_images/hsvtool_05.png" src="_images/hsvtool_05.png" />
</div>
<div class="figure align-default">
<img alt="_images/hsvtool_06.png" src="_images/hsvtool_06.png" />
</div>
<div class="figure align-default">
<img alt="_images/hsvtool_07.png" src="_images/hsvtool_07.png" />
</div>
<p>By using a low resolution and/or compressed image you will see the artifacts in the alpha channel. This makes it harder to do a replacement or secondary color correction. Is is evident that the blue channel has the most artifacts/noise, you can use the <span class="xref std std-ref">CImgDenoise</span> or <span class="xref std std-ref">CImgBlur</span> node and blur one or two pixels in the blue channel to soften the pixel edges. This technique will not always work, remember to apply dynamic range applications when using the <span class="xref std std-ref">HSVTool</span>. You can only push the Saturation and Brightness so far. Also remember that <span class="xref std std-ref">HSVTool</span> need color input in order to apply any color filtering even though it can output greyscale and matte data.</p>
</div>
<div class="section" id="hsvtool-keyer">
<h2>HSVTool Keyer<a class="headerlink" href="#hsvtool-keyer" title="Permalink to this headline">¶</a></h2>
<p>The <span class="xref std std-ref">HSVTool</span> can be used as a color keyer. It uses the same principles as the <span class="xref std std-ref">ChromaKeyer</span> and the <span class="xref std std-ref">Keyer</span> nodes. What separates the <span class="xref std std-ref">HSVTool</span> as a keyer is that the matte is inverted with it’s selection.</p>
<p>When you need to pull a key with the <span class="xref std std-ref">ChromaKeyer</span> the key color is outputted as black or represents a transparency. See node grap below for an example.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_08.png" src="_images/hsvtool_08.png" />
</div>
<p>The image below is the <span class="xref std std-ref">ChromaKeyer</span> parameters panel. You can see that the eyedropper has a chroma green selection from the input image. You may also notice the acceptance angle is very high, this is because the source material is compressed.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_09.png" src="_images/hsvtool_09.png" />
</div>
<p>As you can see from the panel the chromakey subtracted the chroma green, replacing it with black/transparent. The “Key Lift” and “Key Gain” clamps the black/white to make a clean matte from the keyed selection.</p>
<p>Even if the chromakey generates transparency from the node, it still outputs a black and white matte that can be used as an inverted mask or holdout matte to apply needed filter effects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A holdout matte is a section of your image that tells the keyer not to key the selected area. A holdout matte is commonly used to define a area within your image that might have similar colors to the color being keyed.</p>
</div>
<p>The node graph below is using the same green screen image when pulling a key with the <span class="xref std std-ref">HSVTool</span>. The alpha output shows up as the white color. This <span class="xref std std-ref">HSVTool</span> does not subtract the color to generate a matte, as oppose to the <span class="xref std std-ref">ChromaKeyer</span> and <span class="xref std std-ref">Keyer</span> nodes that subtracts the color to generate a matte. If you are concerned about color spaces, <span class="xref std std-ref">ChromaKeyer</span> and <span class="xref std std-ref">Keyer</span> process data in RGB color space and the <span class="xref std std-ref">HSVTool</span> process in HSV color space.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_10.png" src="_images/hsvtool_10.png" />
</div>
<p>The image below is the <span class="xref std std-ref">HSVTool</span> parameters panel. You can see that the source color eyedropper operator has a chroma green selected. As you look further down the panel you will notice the Hue, Saturation, and Brightness parameters which has all the values the make up the chroma green selection.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_11.png" src="_images/hsvtool_11.png" />
</div>
<p>The important part to remember is that Hue, Saturation, and Brightness are used to generate and adjust the matte(s) based on the output alpha mode. The image output alpha is set to min(All), when selected, Hue, Saturation, and Brightness can be used to adjust the matte/mask output.</p>
<p>There are eight output alpha modes. The only mode that can’t generate a matte is the “Source” mode. Even if there’s no matte generated you can still do color replacements and color corrections.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_12.png" src="_images/hsvtool_12.png" />
</div>
<p>The image above displays two <span class="xref std std-ref">HSVTool</span> nodes that is keying the same input, but generating two different mattes based on the output alpha. The middle viewer is the Hue mode output. The viewer on the right is the min(Hue, Saturation) mode output. When you are working with compressed source images the output alpha modes will yield different results.</p>
<div class="figure align-default">
<img alt="_images/hsvtool_13.png" src="_images/hsvtool_13.png" />
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you need more control on the alpha/matte output, the <span class="xref std std-ref">ColorLookup</span> node can help adjusting edges.</p>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2020 The Natron documentation authors, licensed under CC BY-SA 4.0.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>