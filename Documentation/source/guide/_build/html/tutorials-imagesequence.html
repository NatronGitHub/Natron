
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How To Convert Videos To Image Sequences &#8212; Natron 2.3.16 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/dropdown.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="HSVTool" href="tutorials-hsvtool.html" />
    <link rel="prev" title="Writing documentation" href="tutorials-writedoc.html" /> 
  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-convert-videos-to-image-sequences">
<h1>How To Convert Videos To Image Sequences<a class="headerlink" href="#how-to-convert-videos-to-image-sequences" title="Permalink to this headline">¶</a></h1>
<p>Natron works best when using image sequences as input.</p>
<p>Video can be used (mp4, mov etc) as input but may face stability issues.</p>
<p><strong>Converting the video to a sequence of images is recommended.</strong></p>
<p>There are a number of solutions for converting the video to frames:</p>
<div class="section" id="ffmpeg">
<h2>FFmpeg<a class="headerlink" href="#ffmpeg" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://ffmpeg.org/">FFmpeg</a> provides a convenient command-line solution for converting video to images.</p>
<ol class="arabic simple">
<li><p>Open a terminal and navigate to the folder containing the video.</p></li>
<li><p>Use this command to extract the video to a png image sequence:</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-pix_fmt</span> <span class="pre">rgba</span> <span class="pre">output_%04d.png</span></code></p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">input.mp4</span></code> with the name of your video and <code class="docutils literal notranslate"><span class="pre">output_</span></code> with the name your output image files.</p>
<p><code class="docutils literal notranslate"><span class="pre">%04d</span></code> specifies the position of the characters representing a sequential number in each file name matched by the pattern. Using the above example the output files will be called <code class="docutils literal notranslate"><span class="pre">output_0001.png</span></code>, <code class="docutils literal notranslate"><span class="pre">output_0002.png</span></code>, <code class="docutils literal notranslate"><span class="pre">output_0002.png</span></code> and so on. For longer videos you will need to use a higher number (<code class="docutils literal notranslate"><span class="pre">%08d.png</span></code>).</p>
<p>Here are some more options:</p>
<p>PNG (with Alpha)</p>
<p>for 8 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-pix_fmt</span> <span class="pre">rgba</span> <span class="pre">output_%04d.png</span></code></p>
<p>for 16 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-pix_fmt</span> <span class="pre">rgba64be</span> <span class="pre">output_%04d.png</span></code></p>
<p>PNG (without Alpha)</p>
<p>for 8 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-pix_fmt</span> <span class="pre">rgb24</span> <span class="pre">output_%04d.png</span></code></p>
<p>for 16 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-pix_fmt</span> <span class="pre">rgb48be</span> <span class="pre">output_%04d.png</span></code></p>
<p>To extract TIFF 16 bit image sequence:</p>
<p>TIFF (with Alpha)</p>
<p>for 8 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-compression_algo</span> <span class="pre">lzw</span> <span class="pre">-pix_fmt</span> <span class="pre">rgba</span> <span class="pre">output_%04d.tiff</span></code></p>
<p>for 16 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-compression_algo</span> <span class="pre">lzw</span> <span class="pre">-pix_fmt</span> <span class="pre">rgba64le</span> <span class="pre">output_%04d.tiff</span></code></p>
<p>TIFF (without Alpha)</p>
<p>for 8 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-compression_algo</span> <span class="pre">lzw</span> <span class="pre">-pix_fmt</span> <span class="pre">rgb24</span> <span class="pre">output_%04d.tiff</span></code></p>
<p>for 16 bit</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input.mp4</span> <span class="pre">-compression_algo</span> <span class="pre">lzw</span> <span class="pre">-pix_fmt</span> <span class="pre">rgb48le</span> <span class="pre">output_%04d.tiff</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“-compression_algo packbits or raw or lzw or deflate” - is optional. Using it for 4k/+ is recommended. For 4k/+ deflate can be used. For HD lzw can be used to lower the file size.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“-pix_fmt rgb24 or rgba” is a must to include convert the color space. YUV/YCRB is not ideal for many en/decoders for TIFF.</p>
</div>
<p>For more information on support pix format and compression for TIFF in ffmpeg in the terminal type: <code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-v</span> <span class="pre">error</span> <span class="pre">-h</span> <span class="pre">encoder=tiff</span></code></p>
<p>More information of FFmpeg’s command line options <a class="reference external" href="https://ffmpeg.org/ffmpeg-formats.html">https://ffmpeg.org/ffmpeg-formats.html</a></p>
</div>
<div class="section" id="kdenlive-shotcut">
<h2>Kdenlive/Shotcut<a class="headerlink" href="#kdenlive-shotcut" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://kdenlive.org/">https://kdenlive.org/</a>
<a class="reference external" href="https://shotcut.org/">https://shotcut.org/</a></p>
<p>With the video(s) on the timeline go to Project &gt; Render.
In the render settings choose Images sequence and select the desired image format.</p>
<p>The sequence will be output with the specified file name and format and using five digits for its numbered sequence (e.g. output_00001.png).</p>
<p>Full instructions on how to use Kdenlive can be found here <a class="reference external" href="https://userbase.kde.org/Kdenlive/Manual/Project_Menu/Render">https://userbase.kde.org/Kdenlive/Manual/Project_Menu/Render</a></p>
</div>
<div class="section" id="blender">
<h2>Blender<a class="headerlink" href="#blender" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.blender.org/">https://www.blender.org/</a></p>
<ul class="simple">
<li><p>Import the movie file in Blender Video Sequencer.</p></li>
<li><p>Go to render properties.</p></li>
<li><p>In Color management change view transform standard.</p></li>
<li><p>Go to output properties.</p></li>
<li><p>Select File format PNG/TIFF.</p></li>
<li><p>Select RGB/RGBA, 8/16 Color depth, and preferred compression NONE/Any.</p></li>
</ul>
<p>Full instructions on how to use the Blender VSE can be found here <a class="reference external" href="https://docs.blender.org/manual/en/latest/video_editing/index.html">https://docs.blender.org/manual/en/latest/video_editing/index.html</a></p>
</div>
<div class="section" id="adobe-media-encoder">
<h2>Adobe Media Encoder<a class="headerlink" href="#adobe-media-encoder" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Open Media Encoder.</p></li>
<li><p>Add source video to the queue.</p></li>
<li><p>Set the output format to OpenEXR.</p></li>
<li><p>Set compression to “Zip”.</p></li>
<li><p>If the source has an alpha channel be sure to scroll down to the bottom of the Video section of the Export Settings and check “Include Alpha Channel”.</p></li>
<li><p>Close the Export Settings by clicking Ok and press the Start Queue button.</p></li>
</ul>
</div>
<div class="section" id="davinci-resolve">
<h2>DaVinci Resolve<a class="headerlink" href="#davinci-resolve" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>In Resolve, select your videoclip.</p></li>
<li><p>Go to File =&gt; Media Management.</p></li>
<li><p>Select Clips.</p></li>
<li><p>Select Media Destination.</p></li>
<li><p>Select Video format =&gt; TIFF or EXR.</p></li>
<li><p>Click Start.</p></li>
</ul>
</div>
</div>
<div class="section" id="how-to-convert-image-sequences-to-video-files">
<h1>How To Convert Image Sequences To Video Files<a class="headerlink" href="#how-to-convert-image-sequences-to-video-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>FFmpeg<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Converting your images to video follows a similar process to doing the reverse.</p>
<p>Open a terminal and navigate to the location containing the images.
In the terminal type:</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-i</span> <span class="pre">input_%05d.png</span> <span class="pre">output.mp4</span></code></p>
<p>Change <code class="docutils literal notranslate"><span class="pre">input_</span></code> to match the name of the files. The number of characters in the sequence (%05d) should match the amount in your input files. For example, if the files have four characters in their sequence (e.g. input_0001.png) then it should use %04d.</p>
<p>For this to work correctly all of the files need to be sequentially numbered and the sequence should start from either 0 or 1.</p>
<p>It is can also specify the framerate and the codec, here is an example for framerate 30fps:</p>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-framerate</span> <span class="pre">30</span> <span class="pre">-i</span> <span class="pre">input%04d.png</span> <span class="pre">-c:v</span> <span class="pre">libx264</span> <span class="pre">-r</span> <span class="pre">30</span> <span class="pre">-pix_fmt</span> <span class="pre">yuv420p</span> <span class="pre">out.mp4</span></code></p>
</div>
</div>
<div class="section" id="using-nle">
<h1>Using NLE<a class="headerlink" href="#using-nle" title="Permalink to this headline">¶</a></h1>
<div class="section" id="kdenlive-shotcut-da-vinci-resolve-adobe-premiere">
<h2>Kdenlive, Shotcut, Da Vinci Resolve, Adobe Premiere<a class="headerlink" href="#kdenlive-shotcut-da-vinci-resolve-adobe-premiere" title="Permalink to this headline">¶</a></h2>
<p>Import the image “as sequence” in the timeline (or drag’n’drop the folder) and render in your preferred video format.</p>
</div>
</div>
<div class="section" id="creating-digital-intermediate-for-editing-servers">
<h1>Creating Digital Intermediate For Editing Servers<a class="headerlink" href="#creating-digital-intermediate-for-editing-servers" title="Permalink to this headline">¶</a></h1>
<p>For Digital Intermediate, the <cite>PRORES 4444</cite> codec is a nice choice for MOV containers. It supports 12-bit with YUVA and retains alpha with 16-bit precision.</p>
<p>It can be done with ffmpeg or in kdenlive/Shotcut importing the TIFF/PNG as sequence.</p>
<div class="section" id="id2">
<h2>FFmpeg<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-framerate</span> <span class="pre">30</span> <span class="pre">-i</span> <span class="pre">input%03d.tiff</span> <span class="pre">-f</span> <span class="pre">mov</span> <span class="pre">-acodec</span> <span class="pre">pcm_s16le</span> <span class="pre">-vcodec</span> <span class="pre">prores_ks</span> <span class="pre">-vprofile</span> <span class="pre">4444</span> <span class="pre">-vendor</span> <span class="pre">ap10</span> <span class="pre">-pix_fmt</span> <span class="pre">yuva444p10le</span> <span class="pre">out.mov</span></code></p>
</div>
<div class="section" id="shotcut-kdenlive">
<h2>Shotcut/Kdenlive<a class="headerlink" href="#shotcut-kdenlive" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>A render profile needs to be created first with below profile:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f=mov</span> <span class="pre">acodec=pcm_s16le</span> <span class="pre">vcodec=prores_ks</span> <span class="pre">vprofile=4444</span> <span class="pre">vendor=ap10</span> <span class="pre">pix_fmt=yuva444p10le</span> <span class="pre">qscale=%quality</span></code></p></li>
<li><p>Use TIFF/PNG image as sequence in the timeline.</p></li>
<li><p>Then Render with this newly created prores 4444 profile.</p></li>
</ul>
<p>A tutorial on PRORES in LINUX by CGVIRUS:
<a class="reference external" href="https://youtu.be/oBiaBYthZSo">https://youtu.be/oBiaBYthZSo</a></p>
<p>It can be done with Adobe Premiere/Avid/Fcpx/Resolve etc as well by importing TIFF/PNG as sequence and render as MOV prores 4444.</p>
</div>
<div class="section" id="davinci-resolve-adobe-premiere-etc">
<h2>DaVinci Resolve, Adobe Premiere etc<a class="headerlink" href="#davinci-resolve-adobe-premiere-etc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Drag and drop the folder containing the image sequence to a timeline.</p></li>
<li><p>Render the timeline in PRORES 4444.</p></li>
</ul>
</div>
<div class="section" id="how-to-render-image-sequences-from-natron">
<h2>How to Render Image Sequences from Natron<a class="headerlink" href="#how-to-render-image-sequences-from-natron" title="Permalink to this headline">¶</a></h2>
<p>The preferred file format to render out composited frames is TIFF.(image attached):</p>
<p>In the write node:</p>
<ul class="simple">
<li><p>output components can be RGB(no transparency) or RGBA(with transparency)</p></li>
<li><p>Use filename_###.tiff (where # is the frame number and padding) ### will create yourfilename001.tiff and ## will create yourfilename01.tiff</p></li>
<li><p>Bit depth can be auto/8i/16i (Don’t use float)</p></li>
<li><p>compression can be none/lzw (HD). for 4k deflate is ok.</p></li>
</ul>
<div class="figure align-default">
<img alt="_images/imagesequence_1.jpg" src="_images/imagesequence_1.jpg" />
</div>
<ul class="simple">
<li><p>Use filename_###.tiff (where # is the frame number and padding)</p></li>
<li><p>### will create yourfilename001.tiff and ## will create yourfilename01.tiff</p></li>
<li><p>Bit depth can be auto/8i/16i (Don’t use float)</p></li>
<li><p>compression can be none/lzw (HD). for 4k deflate is ok.</p></li>
</ul>
<p>PNG is also a good format:</p>
<p>In the write node:</p>
<ul class="simple">
<li><p>output components can be RGB(no transparency) or RGBA(with transparency)</p></li>
<li><p>Use filename###.png (where # is the frame number and padding)</p></li>
<li><p>### will create yourfilename001.png and ## will create yourfilename01.png</p></li>
<li><p>Bit depth can be 8/16bit</p></li>
<li><p>compression can be 0 for HD, 6 for 4k is fair enough.</p></li>
</ul>
<div class="figure align-default">
<img alt="_images/imagesequence_2.jpg" src="_images/imagesequence_2.jpg" />
</div>
</div>
<div class="section" id="open-questions-for-this-document">
<h2>Open Questions for this document:<a class="headerlink" href="#open-questions-for-this-document" title="Permalink to this headline">¶</a></h2>
<p>What format should I use for frames? (esp if the video is 10bit or 12bit) ?</p>
<p>Suggestion:
For muxing audio. But it is usually pointless as it goes to NLE at the end.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2020 The Natron documentation authors, licensed under CC BY-SA 4.0.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>