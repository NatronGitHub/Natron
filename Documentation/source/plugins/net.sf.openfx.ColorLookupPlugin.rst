.. _net.sf.openfx.ColorLookupPlugin:

ColorLookup node
================

.. raw:: html

   <!-- Do not edit this file! It is generated automatically by Natron itself. -->

|pluginIcon| 

*This documentation is for version 1.1 of ColorLookup (net.sf.openfx.ColorLookupPlugin).*

Description
-----------

Apply a parametric lookup curve with the possibility to adjust each channel separately.

The master curve is combined with the red, green and blue curves, but not with the alpha curve.

Different algorithms are available when applying the master curve, which are selectable using the “Master Curve Mode” parameter.

Computation is faster for values that are within the given range, so it is recommended to set the Range parameter if the input range goes beyond [0,1].

Note that you can easily do color remapping by setting Source and Target colors and clicking “Set RGB” or “Set RGBA” below.

This will add control points on the curve to match the target from the source. You can add as many point as you like.

This is very useful for matching color of one shot to another, or adding custom colors to a black and white ramp.

Optionally, the RGB histogram or a color ramp can be displayed in the background of the lookup curves.

See also: http://opticalenquiry.com/nuke/index.php?title=ColorLookup

Inputs
------

+--------+-------------+----------+
| Input  | Description | Optional |
+========+=============+==========+
| Source |             | No       |
+--------+-------------+----------+
| Mask   |             | Yes      |
+--------+-------------+----------+

Controls
--------

.. tabularcolumns:: |>{\raggedright}p{0.2\columnwidth}|>{\raggedright}p{0.06\columnwidth}|>{\raggedright}p{0.07\columnwidth}|p{0.63\columnwidth}|

.. cssclass:: longtable

+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter / script name                 | Type       | Default                                    | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+=========================================+============+============================================+======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| Range / ``range``                       | Double     | min: 0 max: 1                              | Expected range for input values. Within this range, a lookup table is used for faster computation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Lookup Table / ``lookupTable``          | Parametric | master:   red:   green:   blue:   alpha:   | Colour lookup table. The master curve is combined with the red, green and blue curves, but not with the alpha curve.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Display / ``backgroundDisplay``         | Choice     | Color Ramp                                 | | Display a color ramp or a histogram behind the curves.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                                         |            |                                            | | **None (none)**: No background display.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                         |            |                                            | | **Color Ramp (colorramp)**: Display a color ramp.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                                         |            |                                            | | **RGB Histogram (histogram)**: Display the input histogram. Press “Refresh Histogram” to recompute the histogram.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Update Histogram / ``updateHistogram``  | Button     |                                            | Update the histogram from the input at current time.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Source / ``source``                     | Color      | r: 0 g: 0 b: 0 a: 0                        | Source color for newly added points (x coordinate on the curve).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Target / ``target``                     | Color      | r: 0 g: 0 b: 0 a: 0                        | Target color for newly added points (y coordinate on the curve).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Set Master / ``setMaster``              | Button     |                                            | Add a new control point mapping source to target to the master curve (the relative luminance is computed using the ‘Luminance Math’ parameter).                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Set RGB / ``setRGB``                    | Button     |                                            | Add a new control point mapping source to target to the red, green, and blue curves.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Set RGBA / ``setRGBA``                  | Button     |                                            | Add a new control point mapping source to target to the red, green, blue and alpha curves.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Set A / ``setA``                        | Button     |                                            | Add a new control point mapping source to target to the alpha curve                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Master Curve Mode / ``masterCurveMode`` | Choice     | Standard                                   | | Algorithm that will be used for the master curve. The curve mode will have a strong effect on the appearance of colors, especially if you use a contrast-enhancing curve (S-curve). This can be used for creative effect, but can for some purposes or styles cause undesired color changes depending which mode you choose. Choose a mode that suits your specific taste and needs for the photo at hand. More information can be found at http://rawpedia.rawtherapee.com/Exposure                                                                                                                               |
|                                         |            |                                            | | **Standard (standard)**: The marster curve is applied independently to R, G and B channels. The drawback of this mode is that e.g. considering an S-curve shape to get more contrast, an orange color with a high value of red and green and a low value of blue will tend to shift toward yellow, because the red and green channel will be raised, while the blue one will be lowered.                                                                                                                                                                                                                           |
|                                         |            |                                            | | **Weighted Standard (weightedstandard)**: You can use this method to limit the color shift of the standard curve, even if it won’t suppress it entirely.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                         |            |                                            | | **Film-Like (filmlike)**: The film-like curve provides a result highly similar to the standard type (that is strong saturation increase with increased contrast), but the RGB-HSV hue is kept constant - that is, there are less color-shift problems. This curve type was designed by Adobe as a part of DNG and is thus the one used by Adobe Camera Raw and Lightroom.                                                                                                                                                                                                                                          |
|                                         |            |                                            | | **Luminance (luminance)**: Each component of the pixel is boosted by the same factor so color and saturation is kept stable, that is the result is very true to the original color. However contrast-increasing curves can still lead to a slightly desaturated look. First the relative luminance value of a pixel is obtained, then the curve is applied to that value, the multiplication factor between before and after luminance is calculated, and then this factor is applied to each R, G and B component. The formula used to compute the luminance can be selected using the “luminanceMath” parameter. |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Luminance Math / ``luminanceMath``      | Choice     | Rec. 709                                   | | Formula used to compute luminance from RGB values (only used by ‘Set Master’).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                         |            |                                            | | **Rec. 709 (rec709)**: Use Rec. 709 (0.2126r + 0.7152g + 0.0722b).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                         |            |                                            | | **Rec. 2020 (rec2020)**: Use Rec. 2020 (0.2627r + 0.6780g + 0.0593b).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                         |            |                                            | | **ACES AP0 (acesap0)**: Use ACES AP0 (0.3439664498r + 0.7281660966g + -0.0721325464b).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                                         |            |                                            | | **ACES AP1 (acesap1)**: Use ACES AP1 (0.2722287168r + 0.6740817658g + 0.0536895174b).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                         |            |                                            | | **CCIR 601 (ccir601)**: Use CCIR 601 (0.2989r + 0.5866g + 0.1145b).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                         |            |                                            | | **Average (average)**: Use average of r, g, b.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                         |            |                                            | | **Max (max)**: Use max or r, g, b.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Clamp Black / ``clampBlack``            | Boolean    | Off                                        | All colors below 0 on output are set to 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Clamp White / ``clampWhite``            | Boolean    | Off                                        | All colors above 1 on output are set to 1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| (Un)premult / ``premult``               | Boolean    | Off                                        | Divide the image by the alpha channel before processing, and re-multiply it afterwards. Use if the input images are premultiplied.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Invert Mask / ``maskInvert``            | Boolean    | Off                                        | When checked, the effect is fully applied where the mask is 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Mix / ``mix``                           | Double     | 1                                          | Mix factor between the original and the transformed image.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------------------+------------+--------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. |pluginIcon| image:: net.sf.openfx.ColorLookupPlugin.png
   :width: 10.0%
