.. _net.sf.openfx.Reformat:

Reformat node
=============

.. raw:: html

   <!-- Do not edit this file! It is generated automatically by Natron itself. -->

|pluginIcon| 

*This documentation is for version 2.0 of Reformat (net.sf.openfx.Reformat).*

Description
-----------

Convert the image to another format or size.

An image transform is computed that goes from the input format, regardless of the region of definition (RoD), to the selected format. The Resize Type parameter adjust the way the transform is computed.

The output format is set by this effect.

In order to set the output format without transforming the image content, use the NoOp effect.

This plugin concatenates transforms.

See also: http://opticalenquiry.com/nuke/index.php?title=Reformat

Inputs
------

+--------+-------------+----------+
| Input  | Description | Optional |
+========+=============+==========+
| Source |             | No       |
+--------+-------------+----------+

Controls
--------

.. tabularcolumns:: |>{\raggedright}p{0.2\columnwidth}|>{\raggedright}p{0.06\columnwidth}|>{\raggedright}p{0.07\columnwidth}|p{0.63\columnwidth}|

.. cssclass:: longtable

+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter / script name              | Type    | Default           | Function                                                                                                                                                                                                                                                                                                                                                         |
+======================================+=========+===================+==================================================================================================================================================================================================================================================================================================================================================================+
| Use Source RoD / ``useRoD``          | Boolean | Off               | Use the region of definition of the source as the source format.                                                                                                                                                                                                                                                                                                 |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Type / ``reformatType``              | Choice  | To Project Format | | Selects how the output format is computed.                                                                                                                                                                                                                                                                                                                     |
|                                      |         |                   | | **To Format (format)**: Resize to predefined format.                                                                                                                                                                                                                                                                                                           |
|                                      |         |                   | | **To Box (box)**: Resize to fit into a box of a given width and height.                                                                                                                                                                                                                                                                                        |
|                                      |         |                   | | **Scale (scale)**: Apply scale (rounding to integer pixel sizes).                                                                                                                                                                                                                                                                                              |
|                                      |         |                   | | **To Project Format (project)**: Resize to project format.                                                                                                                                                                                                                                                                                                     |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Format / ``NatronParamFormatChoice`` | Choice  | HD 1920x1080      | | The output format                                                                                                                                                                                                                                                                                                                                              |
|                                      |         |                   | | **PC_Video 640x480 (PC_Video)**                                                                                                                                                                                                                                                                                                                                |
|                                      |         |                   | | **NTSC 720x486 0.91 (NTSC)**                                                                                                                                                                                                                                                                                                                                   |
|                                      |         |                   | | **PAL 720x576 1.09 (PAL)**                                                                                                                                                                                                                                                                                                                                     |
|                                      |         |                   | | **NTSC_16:9 720x486 1.21 (NTSC_16:9)**                                                                                                                                                                                                                                                                                                                         |
|                                      |         |                   | | **PAL_16:9 720x576 1.46 (PAL_16:9)**                                                                                                                                                                                                                                                                                                                           |
|                                      |         |                   | | **HD_720 1280x720 (HD_720)**                                                                                                                                                                                                                                                                                                                                   |
|                                      |         |                   | | **HD 1920x1080 (HD)**                                                                                                                                                                                                                                                                                                                                          |
|                                      |         |                   | | **UHD_4K 3840x2160 (UHD_4K)**                                                                                                                                                                                                                                                                                                                                  |
|                                      |         |                   | | **1K_Super_35(full-ap) 1024x778 (1K_Super_35(full-ap))**                                                                                                                                                                                                                                                                                                       |
|                                      |         |                   | | **1K_Cinemascope 914x778 2.00 (1K_Cinemascope)**                                                                                                                                                                                                                                                                                                               |
|                                      |         |                   | | **2K_Super_35(full-ap) 2048x1556 (2K_Super_35(full-ap))**                                                                                                                                                                                                                                                                                                      |
|                                      |         |                   | | **2K_Cinemascope 1828x1556 2.00 (2K_Cinemascope)**                                                                                                                                                                                                                                                                                                             |
|                                      |         |                   | | **2K_DCP 2048x1080 (2K_DCP)**                                                                                                                                                                                                                                                                                                                                  |
|                                      |         |                   | | **4K_Super_35(full-ap) 4096x3112 (4K_Super_35(full-ap))**                                                                                                                                                                                                                                                                                                      |
|                                      |         |                   | | **4K_Cinemascope 3656x3112 2.00 (4K_Cinemascope)**                                                                                                                                                                                                                                                                                                             |
|                                      |         |                   | | **4K_DCP 4096x2160 (4K_DCP)**                                                                                                                                                                                                                                                                                                                                  |
|                                      |         |                   | | **square_256 256x256 (square_256)**                                                                                                                                                                                                                                                                                                                            |
|                                      |         |                   | | **square_512 512x512 (square_512)**                                                                                                                                                                                                                                                                                                                            |
|                                      |         |                   | | **square_1K 1024x1024 (square_1K)**                                                                                                                                                                                                                                                                                                                            |
|                                      |         |                   | | **square_2K 2048x2048 (square_2K)**                                                                                                                                                                                                                                                                                                                            |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Size / ``boxSize``                   | Integer | x: 200 y: 200     | The output dimensions of the image in pixels.                                                                                                                                                                                                                                                                                                                    |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Force This Shape / ``boxFixed``      | Boolean | Off               | If checked, the output image is cropped to this size. Else, image is resized according to the resize type but the whole image is kept.                                                                                                                                                                                                                           |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Pixel Aspect Ratio / ``boxPar``      | Double  | 1                 | Output pixel aspect ratio.                                                                                                                                                                                                                                                                                                                                       |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Scale / ``reformatScale``            | Double  | x: 1 y: 1         | The scale factor to apply to the image. The scale factor is rounded slightly, so that the output image is an integer number of pixels in the direction chosen under resize type.                                                                                                                                                                                 |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Uniform / ``reformatScaleUniform``   | Boolean | Off               | Use the X scale for both directions                                                                                                                                                                                                                                                                                                                              |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Resize Type / ``resize``             | Choice  | Width             | | Format: Converts between formats, the image is resized to fit in the target format. Size: Scales to fit into a box of a given width and height. Scale: Scales the image.                                                                                                                                                                                       |
|                                      |         |                   | | **None (none)**: Do not resize the original.                                                                                                                                                                                                                                                                                                                   |
|                                      |         |                   | | **Width (width)**: Scale the original so that its width fits the output width, while preserving the aspect ratio.                                                                                                                                                                                                                                              |
|                                      |         |                   | | **Height (height)**: Scale the original so that its height fits the output height, while preserving the aspect ratio.                                                                                                                                                                                                                                          |
|                                      |         |                   | | **Fit (fit)**: Scale the original so that its smallest size fits the output width or height, while preserving the aspect ratio.                                                                                                                                                                                                                                |
|                                      |         |                   | | **Fill (fill)**: Scale the original so that its longest size fits the output width or height, while preserving the aspect ratio.                                                                                                                                                                                                                               |
|                                      |         |                   | | **Distort (distort)**: Scale the original so that both sides fit the output dimensions. This does not preserve the aspect ratio.                                                                                                                                                                                                                               |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Center / ``reformatCentered``        | Boolean | On                | Translate the center of the image to the center of the output. Otherwise, the lower left corner is left untouched.                                                                                                                                                                                                                                               |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Flip / ``flip``                      | Boolean | Off               | Mirror the image vertically.                                                                                                                                                                                                                                                                                                                                     |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Flop / ``flop``                      | Boolean | Off               | Mirror the image horizontally.                                                                                                                                                                                                                                                                                                                                   |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Turn / ``turn``                      | Boolean | Off               | Rotate the image by 90 degrees counter-clockwise.                                                                                                                                                                                                                                                                                                                |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Preserve BBox / ``preserveBB``       | Boolean | Off               | | If checked, preserve the whole image bounding box and concatenate transforms downstream.                                                                                                                                                                                                                                                                       |
|                                      |         |                   | | Normally, all pixels outside of the outside format are clipped off. If this is checked, the whole image RoD is kept.                                                                                                                                                                                                                                           |
|                                      |         |                   | | By default, transforms are only concatenated upstream, i.e. the image is rendered by this effect by concatenating upstream transforms (e.g. CornerPin, Transform...), and the original image is resampled only once. If checked, and there are concatenating transform effects downstream, the image is rendered by the last consecutive concatenating effect. |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Filter / ``filter``                  | Choice  | Cubic             | | Filtering algorithm - some filters may produce values outside of the initial range (*) or modify the values even if there is no movement (+).                                                                                                                                                                                                                  |
|                                      |         |                   | | **Impulse (impulse)**: (nearest neighbor / box) Use original values.                                                                                                                                                                                                                                                                                           |
|                                      |         |                   | | **Box (box)**: Integrate the source image over the bounding box of the back-transformed pixel.                                                                                                                                                                                                                                                                 |
|                                      |         |                   | | **Bilinear (bilinear)**: (tent / triangle) Bilinear interpolation between original values.                                                                                                                                                                                                                                                                     |
|                                      |         |                   | | **Cubic (cubic)**: (cubic spline) Some smoothing.                                                                                                                                                                                                                                                                                                              |
|                                      |         |                   | | **Keys (keys)**: (Catmull-Rom / Hermite spline) Some smoothing, plus minor sharpening (*).                                                                                                                                                                                                                                                                     |
|                                      |         |                   | | **Simon (simon)**: Some smoothing, plus medium sharpening (*).                                                                                                                                                                                                                                                                                                 |
|                                      |         |                   | | **Rifman (rifman)**: Some smoothing, plus significant sharpening (*).                                                                                                                                                                                                                                                                                          |
|                                      |         |                   | | **Mitchell (mitchell)**: Some smoothing, plus blurring to hide pixelation (*)(+).                                                                                                                                                                                                                                                                              |
|                                      |         |                   | | **Parzen (parzen)**: (cubic B-spline) Greatest smoothing of all filters (+).                                                                                                                                                                                                                                                                                   |
|                                      |         |                   | | **Notch (notch)**: Flat smoothing (which tends to hide moire’ patterns) (+).                                                                                                                                                                                                                                                                                   |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Clamp / ``clamp``                    | Boolean | Off               | Clamp filter output within the original range - useful to avoid negative values in mattes                                                                                                                                                                                                                                                                        |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Black outside / ``black_outside``    | Boolean | Off               | Fill the area outside the source image with black                                                                                                                                                                                                                                                                                                                |
+--------------------------------------+---------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. |pluginIcon| image:: net.sf.openfx.Reformat.png
   :width: 10.0%
